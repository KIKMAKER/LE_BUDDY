<div class="container justify-content-center my-3">
  <h1>DASHBOARD</h1> <h2>"Hey <%= @user.username %>"</h2>
</div>
<div class="container d-flex flex-column justify-content-center my-3">
  <div class="row">
    <div class= "col">
      <h4>Posted Challenges</h4>
        <% @user.challenges.all.each do |challenge| %>
          <%= link_to challenge_path(challenge) do %>
            <p><%= challenge.title %></p>
          <% end %>
        <% end %>
    </div>
    <div class= "col">
      <h4>Your Challenge requests</h4>
        <% @user.requests.each do |request| %>
          <%= link_to challenge_path(request.challenge) do %>
            <h5><%= request.challenge.title %></h5>
          <% end %>
            <p>status: <%= request.status %></p>
        <% end %>
    </div>
    <div class= "col">
      <h4>Your Future Buddy requests</h4>
      <h5>Respond to these:</h5>
      <% if @user.bookings.pending.empty? %>
      <p>You don't have any pending buddy-up requests.</p>
      <% else %>
        <% @user.bookings.pending.each do |booking| %>
          <%= link_to challenge_path(booking.challenge) do %>
            <p><%= booking.challenge.title %></p>
          <% end %>
          <p><%= link_to "Accept", accept_booking_path(booking), data: {turbo_method: :patch} %> | <%= link_to "Decline", decline_booking_path(booking), data: {turbo_method: :patch} %></p>
        <% end %>
      <% end %>

        <h5>Get excited to work on these:</h5>
      <% @user.bookings.accepted.each do |booking| %>
        <%= link_to challenge_path(booking.challenge) do %>
          <p><%= booking.challenge.title %></p>
        <% end %>
      <% end %>

      <h5>The ones you didn't get to work on:</h5>
      <% @user.bookings.declined.each do |booking| %>
        <%= link_to challenge_path(booking.challenge) do %>
          <p><%= booking.challenge.title %></p>
        <% end %>
      <% end %>

       <button>  <%= link_to challenge_path(@challenge),
            data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} do %>
            <i class="fa-solid fa-trash"></i>
            <% end %>
      </button>

    </div>
  </div>
</div>
